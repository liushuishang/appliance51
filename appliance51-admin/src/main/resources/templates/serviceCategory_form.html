<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultra2-q.net.nz/web/thymeleaf/layout" layout:decorator="form_master">
<head>
    <title>服务目录表单</title>
</head>
<body>
<div layout:fragment="content">
    <form class=" layui-form layui-form-pane" id="new_form" th:action="@{/serviceCategory/save}" method="post">
        <div class="layui-form-item">
            <label class="layui-form-label">父分类</label>
            <div class="layui-input-block">
                <select name="parentId" lay-verify="required" lay-filter="parent-select">
                    <option value=""></option>
                    <option th:each="item,index:${categoryList}" th:value="${item.id}" th:text="${item.name}">北京
                    </option>
                </select>
                <input type="hidden" id="parentName" name="parentName" value="weizhi"/>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">分类名</label>
            <div class="layui-input-block">
                <input id="name" name="name" class="layui-input" type="text" lay-verify="title"
                       placeholder="父分类"/>
            </div>
        </div>
        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">文本域</label>
            <div class="layui-input-block">
                <textarea name="description" placeholder="请输入内容" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block btn-submit">
                <button class="layui-btn" lay-submit="">立即提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>
</div>
<script th:inline="javascript" layout:fragment="script">
    /*<![CDATA[*/
    $(function () {
        layui.form().on('select(parent-select)', function (data) {
            $("#parentName").val($("option:selected", data.elem).text());
        });
    });
    /*]]>*/
</script>

</body>
</html>